nameOverride: ""
fullnameOverride: ""

image:
  repository: "docker.io/dorokrok/honeybeepf"
  tag: "latest"
  pullPolicy: IfNotPresent
imagePullSecrets: [] 
podAnnotations: {}

# NOTE: HoneybeePF uses OTLP to send metrics to OTel Collector.
# Prometheus scrapes the OTel Collector's prometheus exporter (port 8889), 
# NOT the agent directly. The agent does NOT expose a /metrics endpoint.
# ServiceMonitor is NOT used - this chart uses annotation-based scraping.

output:
  # Recommended FQDN format: <service>.<namespace>.svc.cluster.local:<port>
  # NOTE: Default namespace is 'monitoring'. If using a different namespace,
  # update the endpoint below (e.g., replace 'monitoring' with your namespace).
  # You can specify with or without http:// prefix (template handles it automatically)
  otlp:
    endpoint: "honeybeepf-otel-collector-opentelemetry-collector:4317"
    protocol: "grpc"
serviceAccount:
  create: true
  annotations: {}
  name: ""

# Valid values: trace, debug, info, warn, error
rustLog: "info"

builtinProbes:
  block_io:
    enabled: true
  network_latency:
    enabled: false
  gpu_open:
    enabled: true
  interval: 1000

customProbes:
  kprobes: []
  uprobes: []
  tracepoints: []

securityContext:
  privileged: true
  readOnlyRootFilesystem: true # Added for enhanced security posture
  capabilities:
    drop:
      - ALL
    add:
      - SYS_ADMIN
      - BPF
      - NET_ADMIN
      - SYS_RESOURCE
resources:
  limits:
    cpu: "200m"
    memory: "256Mi"
  requests:
    cpu: "100m"
    memory: "128Mi"

nodeSelector:
  kubernetes.io/os: linux

metrics:
  enabled: false
  # The values ​​below are shell values ​​to prevent template errors (do not delete)
  port: 9090
  path: /metrics
  service:
    enabled: true
    type: ClusterIP
    annotations: {}
    labels: {}

